(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{291:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return De}));var a=n(72),r=n(1),o=n(10),l=n(38),c=n(16),i=n.n(c),u=n(237),s=n(194),d=n.n(s),f=n(208),m=(function(){var e=Object(l.default)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify(n),e.next=4,f.default.setItem(t,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))}(),function(){var e=Object(l.default)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.getItem(t);case 3:return n=e.sent,e.abrupt("return",null!=n?JSON.parse(n):null);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),p=Object(u.createApi)({reducerPath:"Api",tagTypes:["login","logout","postTodo","deleteTodo","putTodo","postTask","putTask","deleteTask"],baseQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},t=e.baseUrl,n=e.withCredentials,a=e.headers;return function(){var e=Object(l.default)(i.a.mark((function e(r){var o,l,c,u,f,p,g,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.url,l=r.method,c=r.data,u=r.params,e.next=3,m("Cookie");case 3:return e.sent,e.prev=5,console.log(a),e.next=9,d()({url:t+o,method:l,data:c,params:u,headers:a,withCredentials:n});case 9:return f=e.sent,console.log(f),e.abrupt("return",{data:f.data});case 14:if(e.prev=14,e.t0=e.catch(5),!(e.t0 instanceof s.AxiosError)){e.next=22;break}return b=e.t0,console.log(b),e.abrupt("return",{error:{status:null==(p=b.response)?void 0:p.status,data:(null==(g=b.response)?void 0:g.data)||b.message}});case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}()}({baseUrl:"https://mini-trello-backend.herokuapp.com"}),endpoints:function(e){return{authMe:e.query({query:function(){return{url:"/auth/me",method:"get"}},providesTags:function(){return["login","logout"]}}),login:e.mutation({query:function(e){return{url:"/auth/login",method:"POST",data:e}},invalidatesTags:["login"]}),logout:e.mutation({query:function(e){return{url:"/auth/login",method:"DELETE",body:e}},invalidatesTags:["logout"]}),getTodoList:e.query({query:function(){return{url:"/todo-lists",method:"get"}},providesTags:function(){return["postTodo","putTodo","deleteTodo"]}}),postTodo:e.mutation({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New todo";return{url:"/todo-lists",method:"post",data:{title:e}}},invalidatesTags:["postTodo"]}),putTodo:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todoId,method:"put",data:{title:e.title}}},invalidatesTags:["putTodo"]}),deleteTodo:e.mutation({query:function(e){return{url:"/todo-lists/"+e,method:"delete"}},invalidatesTags:["deleteTodo"]}),getTasks:e.query({query:function(e){var t=e.todolistId,n=e.page,a=void 0===n?1:n,r=e.count;return{url:"/todo-lists/"+t+"/tasks",method:"get",params:{count:void 0===r?100:r,page:a}}},providesTags:function(){return["postTask","putTask","deleteTask"]}}),postTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todolistId+"/tasks",method:"post",data:{title:e.title}}},invalidatesTags:["postTask"]}),putTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todoListId+"/tasks/"+e._id,method:"put",data:e}},invalidatesTags:["putTask"]}),deleteTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todolistId+"/tasks/"+e.taskId,method:"delete"}},invalidatesTags:["deleteTask"]})}}}),g=Object(o.createSlice)({name:"navigateParamsSlice",initialState:{currentTodo:{},currentTask:{}},reducers:{changeCurrentTodo:function(e,t){e.currentTodo=t.payload},changeCurrentTask:function(e,t){e.currentTask=t.payload}}}),b=Object(o.configureStore)({reducer:Object(r.default)({navigateParamsState:g.reducer},p.reducerPath,p.reducer),middleware:function(e){return e().concat(p.middleware)}}),h=n(0),y=n.n(h),E=n(401),T=n(3),v=n(2),k=n(4),O=n(63),j=n(290),w=n(15).default.get("screen"),C=w.height,S=w.width,x=n(22),P=n(52);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var z=a.useDispatch,D=a.useSelector,H=function(){return Object(x.useNavigation)()},L=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g.actions),_=function(){var e=z();return Object(P.bindActionCreators)(L,e)},B=n(66),q=n(387),V=n(26),N=n(388),W=n(198),A=n(374),M=n(404),F=n(405),G=n(403),Q=n(199),J=(y.a.createElement,function(){var e=p.useAuthMeQuery(),t=e.data,n=e.isLoading,a=e.error,r=e.isError,o=a,c=p.useLoginMutation(),u=Object(T.default)(c,1)[0],s=H();Object(h.useEffect)((function(){t&&0===t.resultCode&&s.navigate("TodoScreen",{screen:"TodoList"})}),[t]);var d=function(){var e=Object(l.default)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,u(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return n?y.a.createElement(k.default,{style:U.loginContainer},y.a.createElement(O.default,{size:"large",color:"rgb(255,255,255)"})):r?y.a.createElement(k.default,{style:U.loginContainer},a?y.a.createElement(B.default,null,o.data):y.a.createElement(B.default,null,"error")):y.a.createElement(q.default,{w:"100%"},y.a.createElement(j.Formik,{initialValues:{email:"",password:""},onSubmit:d},(function(e){var t=e.handleChange,n=e.handleBlur,a=e.handleSubmit,r=e.values;return y.a.createElement(V.default,{safeArea:!0,p:"2",py:"8",w:"90%",maxW:"290"},y.a.createElement(N.default,{size:"lg",fontWeight:"600",color:"coolGray.800",_dark:{color:"warmGray.50"}},"Welcome"),y.a.createElement(N.default,{mt:"1",_dark:{color:"warmGray.200"},color:"coolGray.600",fontWeight:"medium",size:"xs"},"Sign in to continue!"),y.a.createElement(W.default,{space:3,mt:"5"},y.a.createElement(A.FormControl,null,y.a.createElement(A.FormControl.Label,null,"Email"),y.a.createElement(M.Input,{onChangeText:t("email"),onBlur:n("email"),value:r.email})),y.a.createElement(A.FormControl,null,y.a.createElement(A.FormControl.Label,null,"Password"),y.a.createElement(M.Input,{type:"password",onChangeText:t("password"),onBlur:n("password"),value:r.password}),y.a.createElement(F.default,{_text:{fontSize:"xs",fontWeight:"500",color:"indigo.500"},alignSelf:"flex-end",mt:"1"},"Forget Password?")),y.a.createElement(G.Button,{mt:"2",colorScheme:"indigo",onPress:a},"Sign in"),y.a.createElement(Q.default,{mt:"6",justifyContent:"center"},y.a.createElement(B.default,{fontSize:"sm",color:"coolGray.600",_dark:{color:"warmGray.200"}},"I'm a new user."," "),y.a.createElement(F.default,{_text:{color:"indigo.500",fontWeight:"medium",fontSize:"sm"},href:"#"},"Sign Up"))))})))}),U=v.default.create({loginContainer:{flex:1,justifyContent:"center",alignItems:"center"},loginForm:{width:S-60,paddingHorizontal:30,paddingVertical:30,backgroundColor:"rgba(5,5,5,0.5)"},loginTextField:{marginVertical:10}}),K=n(36),R=n(24),X=n(31),Y=n(146),Z=(v.default.create({modalInputStyle:{height:(C-60)/19,width:(S-60)/2,paddingHorizontal:10,fontSize:22,color:"#050505"}}),y.a.createElement,Object(h.memo)((function(e){var t=e.children,n=e.onPress,a=e.title,r=void 0===a?"Button":a,o=e.styleButton,l=e.styleTitle,c=e.activeOpacity,i=e.underlayColor,u=e.disabled,s=Object(h.useCallback)((function(e){n&&n(e)}),[n]),d=Object(X.default)({},$.button,o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return{borderStyle:"solid",borderColor:"#DDDDDD",borderRadius:e,borderWidth:1}}()),f=Object(X.default)({},$.title,l);return y.a.createElement(Y.default,{onPress:s,disabled:u,activeOpacity:c||.2,style:d,underlayColor:i||"rgb(60,134,168)"},y.a.createElement(R.default,{style:f},t||r))}))),$=v.default.create({button:{flexWrap:"nowrap",paddingHorizontal:5,justifyContent:"center",alignItems:"center"},title:{color:"rgba(5,5,5)",fontSize:22}}),ee=(y.a.createElement,function(){var e=D((function(e){return e.navigateParamsState.currentTask}));return y.a.createElement(k.default,{style:te.container},y.a.createElement(R.default,{style:te.title},e.title),y.a.createElement(k.default,{style:te.taskBar},y.a.createElement(Z,null,"check"),y.a.createElement(Z,null,"delete"),y.a.createElement(Z,null,"edit")))}),te=v.default.create({checkedTask:{backgroundColor:"rgb(60,134,168)"},container:{paddingTop:K.default.currentHeight||0,paddingHorizontal:7.5,flex:1,justifyContent:"space-between"},title:{color:"#050505",fontSize:22},taskBar:{flexDirection:"row",justifyContent:"space-around"}}),ne=n(200),ae=ne.default.TextInput.withConfig({displayName:"StyledInput",componentId:"sc-zzp8cl-0"})(["padding:0 10px 0 10px;font-size:","px;color:",";border-style:solid;border-color:",";border-radius:10px;border-width:1px;"],22,"#050505","#050505"),re=(ne.default.TouchableHighlight.withConfig({displayName:"StyledInput__StyledButton",componentId:"sc-zzp8cl-1"})(["justify-content:center;align-items:center;padding:0 5px 0 5px;flex-wrap:nowrap;"]),y.a.createElement,Object(h.memo)((function(e){var t=e.children,n=e.addTaskHandler,a=e.todo,r=e.viewMod,o=e.onChangeTaskTitle,l=e.currentTaskTitle,c=e.deleteTodoHandler,i=Object(h.useCallback)((function(){n&&n()}),[l]),u=Object(h.useCallback)((function(){c&&c(a._id)}),[a._id,c]);return y.a.createElement(k.default,{style:oe.container},y.a.createElement(k.default,{style:oe.titleContainer},y.a.createElement(R.default,{style:oe.title},a.title),y.a.createElement(Z,{onPress:u},"delete")),!r&&y.a.createElement(k.default,{style:oe.inputAndButtonBox},y.a.createElement(ae,{style:oe.input,onChangeText:o,value:l,placeholderTextColor:"#050505",placeholder:"task name...",caretHidden:!0}),y.a.createElement(Z,{onPress:i},"add task")),t||null)}))),oe=v.default.create({container:{paddingTop:K.default.currentHeight||0,flex:1,justifyContent:"flex-start",paddingHorizontal:10,paddingVertical:10},titleContainer:{flexDirection:"row",justifyContent:"space-between"},title:{fontSize:22,color:"#050505",alignSelf:"center"},inputAndButtonBox:{flexDirection:"row",justifyContent:"space-between",marginVertical:10},input:{width:.6*(S-60)}}),le=n(82);y.a.createElement;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=Object(h.memo)((function(e){var t=e.task,n=e.todo,a=p.usePutTaskMutation(),r=Object(T.default)(a,2),o=r[0],l=r[1].isLoading,c=H(),i=_(),u=i.changeCurrentTodo,s=i.changeCurrentTask,d=Object(h.useCallback)((function(){var e=0;return function(){e++,setTimeout((function(){e=0}),300),2===e&&(u(n),s(t),c.navigate("TodoScreen",{screen:"TaskScreen",params:{screen:"TaskView"}}))}}),[n,t]),f=Object(h.useCallback)((function(){o(ie(ie({},t),{},{status:0===t.status?1:0}))}),[t]);return y.a.createElement(le.default,{onPress:d()},y.a.createElement(k.default,{style:se.taskContainer},y.a.createElement(R.default,{style:se.title},t.title),y.a.createElement(Z,{styleButton:se.button,disabled:l,onPress:f},"check")))})),se=v.default.create({taskContainer:{flexDirection:"row",justifyContent:"space-between",marginVertical:10,paddingVertical:7.5,paddingHorizontal:7.5},checkedTask:{backgroundColor:"rgb(60,134,168)"},title:{color:"#050505",fontSize:22,maxWidth:(S-60)/1.5},button:{maxHeight:C/25}}),de=n(84),fe=(y.a.createElement,Object(h.memo)((function(e){var t=e.tasks,n=e.todo;return y.a.createElement(k.default,null,y.a.createElement(de.default,{data:t,extraData:t,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;return y.a.createElement(ue,{todo:n,key:t._id,task:t})},listKey:n._id}))}))),me=(y.a.createElement,Object(h.memo)((function(e){var t=e.todo,n=Object(h.useState)(""),a=n[0],r=n[1],o=p.useGetTasksQuery({todolistId:t._id}),l=o.data,c=o.isLoading,i=p.useDeleteTodoMutation(),u=Object(T.default)(i,1)[0],s=p.usePostTaskMutation(),d=Object(T.default)(s,1)[0],f=null==l?void 0:l.items,m=Object(h.useCallback)((function(e){r(e)}),[a]),g=Object(h.useCallback)((function(){d({todolistId:t._id,title:a}),r("")}),[t._id,a]),b=Object(h.useCallback)((function(e){u(e)}),[t._id]);return y.a.createElement(re,{currentTaskTitle:a,onChangeTaskTitle:m,todo:t,addTaskHandler:g,deleteTodoHandler:b},c?y.a.createElement(O.default,{color:"white",size:"large"}):y.a.createElement(fe,{todo:t,tasks:f}))}))),pe=(y.a.createElement,function(){var e=D((function(e){return e.navigateParamsState.currentTodo}));return y.a.createElement(me,{todo:e})}),ge=n(391),be=(y.a.createElement,Object(ge.default)()),he=function(){return y.a.createElement(be.Navigator,{sceneContainerStyle:{backgroundColor:"rgb(100,101,101)"},screenOptions:{headerShown:!1}},y.a.createElement(be.Screen,{name:"TaskList",component:pe}),y.a.createElement(be.Screen,{name:"TaskView",component:ee}))},ye=n(107),Ee=(y.a.createElement,Object(h.memo)((function(e){var t=e.createTodoHandler,n=Object(h.useState)(""),a=n[0],r=n[1],o=H(),l=p.useAuthMeQuery().data,c=Object(h.useCallback)((function(e){r(e)}),[a]),i=Object(h.useCallback)((function(){t(a),r("")}),[a]);return Object(h.useEffect)((function(){l&&1===l.resultCode&&o.navigate("Login")}),[l]),y.a.createElement(k.default,{style:Te.container},y.a.createElement(ae,{style:Te.modalInputStyle,onChangeText:c,value:a,placeholderTextColor:"#050505",placeholder:"Todo..."}),y.a.createElement(Z,{styleButton:Te.button,onPress:i},"Create todo"))}))),Te=v.default.create({container:{paddingTop:K.default.currentHeight||0,width:S,height:C/9,paddingHorizontal:15,paddingVertical:5,backgroundColor:"rgb(60,134,168)",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{height:(C-60)/19,width:(S-60)/2},modalInputStyle:{height:(C-60)/19,width:(S-60)/2}}),ve=(y.a.createElement,function(){return y.a.createElement(k.default,{style:ke.container},y.a.createElement(R.default,{style:ke.title},"O curva! list is empty!"))}),ke=v.default.create({container:{width:S,height:.79*C,justifyContent:"center",alignItems:"center"},title:{color:"#050505",fontSize:22}}),Oe=(y.a.createElement,Object(h.memo)((function(e){var t=e.children;return y.a.createElement(k.default,{style:je.todoContainer},t)}))),je=v.default.create({todoContainer:{minWidth:S,minHeight:(C-60)/4,marginVertical:15,alignSelf:"center"}}),we=(y.a.createElement,function(){var e=p.useGetTodoListQuery(),t=e.data,n=e.isLoading,a=e.isError,r=(e.error,p.usePostTodoMutation()),o=Object(T.default)(r,1)[0],l=H(),c=_().changeCurrentTodo,i=Object(h.useCallback)((function(e){o(e)}),[]);return n?y.a.createElement(O.default,null):a?y.a.createElement(R.default,null,"error"):y.a.createElement(de.default,{data:t,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;return console.log(t),y.a.createElement(ye.default,{activeOpacity:1,onLongPress:function(){c(t),l.navigate("TodoScreen",{screen:"TaskScreen",params:{screen:"TaskList"}})}},y.a.createElement(Oe,null,y.a.createElement(me,{todo:t})))},ListHeaderComponent:y.a.createElement(Ee,{createTodoHandler:i}),ListEmptyComponent:y.a.createElement(ve,null),listKey:"root"})}),Ce=(y.a.createElement,Object(ge.default)()),Se=function(){return y.a.createElement(Ce.Navigator,{screenOptions:{headerShown:!1}},y.a.createElement(Ce.Screen,{name:"TodoList",component:we}),y.a.createElement(Ce.Screen,{name:"TaskScreen",component:he}))},xe=(y.a.createElement,Object(ge.default)()),Pe=function(){return y.a.createElement(xe.Navigator,{screenOptions:{headerShown:!1}},y.a.createElement(xe.Screen,{name:"TodoScreen",component:Se}),y.a.createElement(xe.Screen,{name:"Login",component:J}))},Ie=n(292),ze=n(406);y.a.createElement;function De(){return y.a.createElement(ze.NativeBaseProvider,null,y.a.createElement(E.default,null,y.a.createElement(Ie.StatusBar,null),y.a.createElement(a.Provider,{store:b},y.a.createElement(Pe,null))))}},306:function(e,t,n){e.exports=n(373)}},[[306,1,2]]]);
//# sourceMappingURL=app.53471aca.chunk.js.map