(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{196:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ce}));var a=n(49),r=n(8),o=n(11),l=n(36),c=n(28),i=n.n(c),u=n(151),s=n(118),d=n.n(s),f=n(127),m=function(){var e=Object(l.default)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify(n),e.next=4,f.default.setItem(t,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.default)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.getItem(t);case 3:return n=e.sent,e.abrupt("return",null!=n?JSON.parse(n):null);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(u.createApi)({reducerPath:"Api",tagTypes:["login","logout","postTodo","deleteTodo","putTodo","postTask","putTask","deleteTask"],baseQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},t=e.baseUrl,n=e.withCredentials,a=e.headers;return function(){var e=Object(l.default)(i.a.mark((function e(r){var o,l,c,u,f,g,h,y,O,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.url,l=r.method,c=r.data,u=r.params,e.next=3,p("Cookie");case 3:return(f=e.sent)&&(a=b(b({},a),{},{cookie:"_ym_d=1649395568; _ym_uid=1649395568426605962; ASP.NET_SessionId=opdrxfnafx0gj2g1ulp5mzs3; _ym_isad=2; "+f})),e.prev=5,console.log(a),e.next=9,d()({url:t+o,method:l,data:c,params:u,headers:a,withCredentials:n});case 9:return g=e.sent,console.log(g),g.headers["set-cookie"]&&m("Cookie",null==(h=g.headers["set-cookie"])?void 0:h.join("")),e.abrupt("return",{data:g.data});case 15:if(e.prev=15,e.t0=e.catch(5),!(e.t0 instanceof s.AxiosError)){e.next=23;break}return T=e.t0,console.log(T),e.abrupt("return",{error:{status:null==(y=T.response)?void 0:y.status,data:(null==(O=T.response)?void 0:O.data)||T.message}});case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}()}({baseUrl:"https://mini-trello-backend.herokuapp.com",headers:{"API-KEY":"1fb0efe7-1c1f-46ce-bb74-74ed02f7875f"},withCredentials:!0}),endpoints:function(e){return{authMe:e.query({query:function(){return{url:"/auth/me",method:"get"}},providesTags:function(){return["login","logout"]}}),login:e.mutation({query:function(e){return{url:"/auth/login",method:"POST",data:e}},invalidatesTags:["login"]}),logout:e.mutation({query:function(e){return{url:"/auth/login",method:"DELETE",body:e}},invalidatesTags:["logout"]}),getTodoList:e.query({query:function(){return{url:"/todo-lists",method:"get"}},providesTags:function(){return["postTodo","putTodo","deleteTodo"]}}),postTodo:e.mutation({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New todo";return{url:"/todo-lists",method:"post",data:{title:e}}},invalidatesTags:["postTodo"]}),putTodo:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todoId,method:"put",data:{title:e.title}}},invalidatesTags:["putTodo"]}),deleteTodo:e.mutation({query:function(e){return{url:"/todo-lists/"+e,method:"delete"}},invalidatesTags:["deleteTodo"]}),getTasks:e.query({query:function(e){var t=e.todolistId,n=e.page,a=void 0===n?1:n,r=e.count;return{url:"/todo-lists/"+t+"/tasks",method:"get",params:{count:void 0===r?100:r,page:a}}},providesTags:function(){return["postTask","putTask","deleteTask"]}}),postTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todolistId+"/tasks",method:"post",data:{title:e.title}}},invalidatesTags:["postTask"]}),putTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todoListId+"/tasks/"+e._id,method:"put",data:e}},invalidatesTags:["putTask"]}),deleteTask:e.mutation({query:function(e){return{url:"/todo-lists/"+e.todolistId+"/tasks/"+e.taskId,method:"delete"}},invalidatesTags:["deleteTask"]})}}}),y=Object(o.createSlice)({name:"navigateParamsSlice",initialState:{currentTodo:{},currentTask:{}},reducers:{changeCurrentTodo:function(e,t){e.currentTodo=t.payload},changeCurrentTask:function(e,t){e.currentTask=t.payload}}}),O=Object(o.configureStore)({reducer:Object(r.default)({navigateParamsState:y.reducer},h.reducerPath,h.reducer),middleware:function(e){return e().concat(h.middleware)}}),T=n(0),v=n.n(T),E=n(276),k=n(9),j=n(4),D=n(31),C=n(164),w=n(41).default.get("screen"),S=w.height,x=w.width,P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return{borderStyle:"solid",borderColor:"#DDDDDD",borderRadius:e,borderWidth:1}},I=j.default.create({modalInputStyle:{height:(S-60)/19,width:(x-60)/2,paddingHorizontal:10,fontSize:22,color:"#DDDDDD"}}),H=(v.a.createElement,Object(T.memo)((function(e){var t=e.children,n=e.onPress,a=e.title,r=void 0===a?"Button":a,o=e.styleButton,l=e.styleTitle,c=e.activeOpacity,i=e.underlayColor,u=e.disabled,s=Object(T.useCallback)((function(e){n&&n(e)}),[n]);return v.a.createElement(C.default,{onPress:s,disabled:u,activeOpacity:c||.2,style:[z.button,P(),o],underlayColor:i||"rgba(5,5,5,0.2)"},v.a.createElement(D.default,{style:[z.title,l]},t||r))}))),z=j.default.create({button:{minWidth:(x-60)/7,flexWrap:"nowrap",paddingHorizontal:5,justifyContent:"center",alignItems:"center"},title:{color:"#DDDDDD",fontSize:22}}),L=n(3),_=n(69),B=n(195),q=n(167),V=n(171),A=Object(q.default)(V.default).withConfig({displayName:"StyledInput",componentId:"sc-zzp8cl-0"})(["padding:0 10px 0 10px;font-size:","px;color:",";border-style:solid;border-color:",";border-radius:10px;border-width:1px;"],22,"#DDDDDD","#DDDDDD"),M=n(26),N=n(38);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Q=a.useDispatch,J=a.useSelector,W=function(){return Object(M.useNavigation)()},K=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y.actions),U=function(){var e=Q();return Object(N.bindActionCreators)(K,e)},G=(v.a.createElement,function(){var e=h.useAuthMeQuery(),t=e.data,n=e.isLoading,a=e.error,r=e.isError,o=a,c=h.useLoginMutation(),u=Object(k.default)(c,1)[0],s=W();Object(T.useEffect)((function(){t&&0===t.resultCode&&s.navigate("TodoScreen",{screen:"TodoList"})}),[t]);var d=function(){var e=Object(l.default)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return n?v.a.createElement(L.default,{style:[R.loginContainer]},v.a.createElement(_.default,{size:"large",color:"rgb(255,255,255)"})):r?v.a.createElement(L.default,{style:[R.loginContainer]},a?v.a.createElement(D.default,null,o.data):v.a.createElement(D.default,null,"error")):v.a.createElement(L.default,{style:[R.loginContainer]},v.a.createElement(B.Formik,{initialValues:{email:"",password:""},onSubmit:d},(function(e){var t=e.handleChange,n=e.handleBlur,a=e.handleSubmit,r=e.values;return v.a.createElement(L.default,{style:[R.loginForm,P()]},v.a.createElement(A,{onChangeText:t("email"),onBlur:n("email"),value:r.email}),v.a.createElement(A,{style:[R.loginTextField],onChangeText:t("password"),onBlur:n("password"),value:r.password}),v.a.createElement(H,{onPress:a,title:"Submit"}))})))}),R=j.default.create({loginContainer:{flex:1,justifyContent:"center",alignItems:"center"},loginForm:{width:x-60,paddingHorizontal:30,paddingVertical:30,backgroundColor:"rgba(5,5,5,0.5)"},loginTextField:{marginVertical:10}}),Y=n(35),X=(v.a.createElement,function(){var e=J((function(e){return e.navigateParamsState.currentTask}));return v.a.createElement(L.default,{style:[Z.container]},v.a.createElement(D.default,{style:[Z.title]},e.title),v.a.createElement(L.default,{style:[Z.taskBar]},v.a.createElement(H,null,"check"),v.a.createElement(H,null,"delete"),v.a.createElement(H,null,"edit")))}),Z=j.default.create({checkedTask:{backgroundColor:"rgba(5,5,5,0.2)"},container:{paddingTop:Y.default.currentHeight||0,paddingHorizontal:7.5,flex:1,justifyContent:"space-between"},title:{color:"#DDDDDD",fontSize:22},taskBar:{flexDirection:"row",justifyContent:"space-around"}}),$=(v.a.createElement,Object(T.memo)((function(e){var t=e.children,n=e.addTaskHandler,a=e.todo,r=e.viewMod,o=e.onChangeTaskTitle,l=e.currentTaskTitle,c=e.deleteTodoHandler,i=Object(T.useCallback)((function(){n&&n()}),[l]),u=Object(T.useCallback)((function(){c&&c(a._id)}),[a._id,c]);return v.a.createElement(L.default,{style:ee.container},v.a.createElement(L.default,{style:[ee.titleContainer]},v.a.createElement(D.default,{style:ee.title},a.title),v.a.createElement(H,{onPress:u},"delete")),!r&&v.a.createElement(L.default,{style:[ee.inputAndButtonBox]},v.a.createElement(A,{style:[ee.input],onChangeText:o,value:l,placeholderTextColor:"#DDDDDD",placeholder:"task name...",caretHidden:!0}),v.a.createElement(H,{onPress:i},"add task")),t||null)}))),ee=j.default.create({container:{paddingTop:Y.default.currentHeight||0,flex:1,justifyContent:"flex-start",paddingHorizontal:10,paddingVertical:10},titleContainer:{flexDirection:"row",justifyContent:"space-between"},title:{fontSize:22,color:"#DDDDDD",alignSelf:"center"},inputAndButtonBox:{flexDirection:"row",justifyContent:"space-between",marginVertical:10},input:{width:.6*(x-60)}}),te=n(110);v.a.createElement;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=Object(T.memo)((function(e){var t=e.task,n=e.todo,a=h.usePutTaskMutation(),r=Object(k.default)(a,2),o=r[0],l=r[1].isLoading,c=W(),i=U(),u=i.changeCurrentTodo,s=i.changeCurrentTask,d=Object(T.useCallback)((function(){var e=0;return function(){e++,setTimeout((function(){e=0}),300),2===e&&(u(n),s(t),c.navigate("TodoScreen",{screen:"TaskScreen",params:{screen:"TaskView"}}))}}),[n,t]),f=Object(T.useCallback)((function(){o(ae(ae({},t),{},{status:0===t.status?1:0}))}),[t]);return v.a.createElement(te.default,{onPress:d()},v.a.createElement(L.default,{style:[oe.taskContainer,P(),1===t.status&&oe.checkedTask]},v.a.createElement(D.default,{style:[oe.title]},t.title),v.a.createElement(H,{styleButton:oe.button,disabled:l,onPress:f},"check")))})),oe=j.default.create({taskContainer:{flexDirection:"row",justifyContent:"space-between",marginVertical:10,paddingVertical:7.5,paddingHorizontal:7.5},checkedTask:{backgroundColor:"rgba(5,5,5,0.2)"},title:{color:"#DDDDDD",fontSize:22,maxWidth:(x-60)/1.5},button:{maxHeight:S/25}}),le=n(73),ce=(v.a.createElement,Object(T.memo)((function(e){var t=e.tasks,n=e.todo;return v.a.createElement(L.default,null,v.a.createElement(le.default,{data:t,extraData:t,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;return v.a.createElement(re,{todo:n,key:t._id,task:t})},listKey:n._id}))}))),ie=(v.a.createElement,Object(T.memo)((function(e){var t=e.todo,n=Object(T.useState)(""),a=n[0],r=n[1],o=h.useGetTasksQuery({todolistId:t._id}),l=o.data,c=o.isLoading,i=h.useDeleteTodoMutation(),u=Object(k.default)(i,1)[0],s=h.usePostTaskMutation(),d=Object(k.default)(s,1)[0],f=null==l?void 0:l.items,m=Object(T.useCallback)((function(e){r(e)}),[a]),p=Object(T.useCallback)((function(){d({todolistId:t._id,title:a}),r("")}),[t._id,a]),g=Object(T.useCallback)((function(e){u(e)}),[t._id]);return v.a.createElement($,{currentTaskTitle:a,onChangeTaskTitle:m,todo:t,addTaskHandler:p,deleteTodoHandler:g},c?v.a.createElement(_.default,{color:"white",size:"large"}):v.a.createElement(ce,{todo:t,tasks:f}))}))),ue=(v.a.createElement,function(){var e=J((function(e){return e.navigateParamsState.currentTodo}));return v.a.createElement(ie,{todo:e})}),se=n(267),de=(v.a.createElement,Object(se.default)()),fe=function(){return v.a.createElement(de.Navigator,{tabBar:function(){return v.a.createElement(v.a.Fragment,null)},sceneContainerStyle:{backgroundColor:"rgba(5,5,5,0)"},screenOptions:{headerShown:!1}},v.a.createElement(de.Screen,{name:"TaskList",component:ue}),v.a.createElement(de.Screen,{name:"TaskView",component:X}))},me=n(185),pe=(v.a.createElement,Object(T.memo)((function(e){var t=e.createTodoHandler,n=Object(T.useState)(""),a=n[0],r=n[1],o=W(),l=h.useAuthMeQuery().data,c=Object(T.useCallback)((function(e){r(e)}),[a]),i=Object(T.useCallback)((function(){t(a),r("")}),[a]);return Object(T.useEffect)((function(){l&&1===l.resultCode&&o.navigate("Login")}),[l]),v.a.createElement(L.default,{style:ge.container},v.a.createElement(A,{style:[I.modalInputStyle],onChangeText:c,value:a,placeholderTextColor:"#DDDDDD",placeholder:"Todo..."}),v.a.createElement(H,{styleButton:ge.button,onPress:i},"Create todo"))}))),ge=j.default.create({container:{paddingTop:Y.default.currentHeight||0,width:x,height:S/9,paddingHorizontal:15,paddingVertical:5,backgroundColor:"rgba(5,5,5,0.2)",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{height:(S-60)/19,width:(x-60)/2},modalInputStyle:{height:(S-60)/19,width:(x-60)/2}}),be=(v.a.createElement,function(){return v.a.createElement(L.default,{style:he.container},v.a.createElement(D.default,{style:he.title},"O curva! list is empty!"))}),he=j.default.create({container:{width:x,height:.79*S,justifyContent:"center",alignItems:"center"},title:{color:"#DDDDDD",fontSize:22}}),ye=(v.a.createElement,Object(T.memo)((function(e){var t=e.children;return v.a.createElement(L.default,{style:[Oe.todoContainer,P(0)]},t)}))),Oe=j.default.create({todoContainer:{width:x,minHeight:(S-60)/4,marginVertical:15,alignSelf:"center"}}),Te=(v.a.createElement,function(){var e=h.useGetTodoListQuery(),t=e.data,n=e.isLoading,a=h.usePostTodoMutation(),r=Object(k.default)(a,1)[0],o=W(),l=U().changeCurrentTodo,c=Object(T.useCallback)((function(e){r(e)}),[]),i=Object(T.useCallback)((function(e){var t=e.item;return v.a.createElement(me.default,{activeOpacity:1,onLongPress:function(){l(t),o.navigate("TodoScreen",{screen:"TaskScreen",params:{screen:"TaskList"}})}},v.a.createElement(ye,null,v.a.createElement(ie,{todo:t})))}),[t]);return n?v.a.createElement(_.default,null):v.a.createElement(le.default,{data:t,keyExtractor:function(e){return e._id},renderItem:i,ListHeaderComponent:v.a.createElement(pe,{createTodoHandler:c}),ListEmptyComponent:v.a.createElement(be,null),listKey:"root"})}),ve=(v.a.createElement,Object(se.default)()),Ee=function(){return v.a.createElement(ve.Navigator,{tabBar:function(){return v.a.createElement(v.a.Fragment,null)},sceneContainerStyle:{backgroundColor:"rgba(5,5,5,0)"},screenOptions:{headerShown:!1}},v.a.createElement(ve.Screen,{name:"TodoList",component:Te}),v.a.createElement(ve.Screen,{name:"TaskScreen",component:fe}))},ke=(v.a.createElement,Object(se.default)()),je=function(){return v.a.createElement(ke.Navigator,{tabBar:function(){return v.a.createElement(v.a.Fragment,null)},sceneContainerStyle:{backgroundColor:"rgba(5,5,5,1)"},screenOptions:{headerShown:!1}},v.a.createElement(ke.Screen,{name:"Login",component:G}),v.a.createElement(ke.Screen,{name:"TodoScreen",component:Ee}))},De=n(197);v.a.createElement;function Ce(){return v.a.createElement(E.default,null,v.a.createElement(De.StatusBar,{style:"auto"}),v.a.createElement(a.Provider,{store:O},v.a.createElement(je,null)))}},202:function(e,t,n){e.exports=n(263)}},[[202,1,2]]]);
//# sourceMappingURL=app.4375a7cf.chunk.js.map